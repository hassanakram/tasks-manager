{"ast":null,"code":"$(document).on(\"turbolinks:load\", function () {\n  $(\".js-search-tasks\").each(function (_, element) {\n    var searchByDropdown = $(element).find('.js-search-by-dropdown');\n    var statusDropdwon = $(element).find('.js-status-dropdown');\n    var searchInput = $(element).find('.js-query-input');\n    var createdAtInput = $(element).find('.js-date-input');\n    var searchSubmitBtn = $(element).find('.js-search-btn');\n    var errorBox = $(element).find('.js-error-msg');\n    var currentQueryInput = searchInput;\n\n    var submitSearch = function submitSearch() {\n      var searchBy = searchByDropdown.val();\n      var query = currentQueryInput.val();\n      $.ajax({\n        url: '/tasks',\n        type: 'get',\n        dataType: 'script',\n        data: {\n          search_by: searchBy,\n          query: query\n        },\n        error: function error(data) {\n          errorBox.text('Something went wrong!');\n        }\n      });\n    };\n\n    var resetInputFields = function resetInputFields() {\n      searchInput.val('');\n      statusDropdwon.val('');\n      createdAtInput.val('');\n    };\n\n    searchSubmitBtn.on('click', submitSearch);\n    searchInput.on('keypress', function (e) {\n      if (e.which === 13) submitSearch();\n    });\n    searchByDropdown.on('change', function () {\n      resetInputFields();\n      var searchByValue = searchByDropdown.val();\n\n      if (searchByValue === 'status') {\n        searchInput.addClass('hidden');\n        createdAtInput.addClass('hidden');\n        statusDropdwon.removeClass('hidden');\n        currentQueryInput = statusDropdwon;\n      } else if (searchByValue === 'created_at') {\n        statusDropdwon.addClass('hidden');\n        searchInput.addClass('hidden');\n        createdAtInput.removeClass('hidden');\n        currentQueryInput = createdAtInput;\n      } else if (searchByValue === 'title') {\n        statusDropdwon.addClass('hidden');\n        createdAtInput.addClass('hidden');\n        searchInput.removeClass('hidden');\n        currentQueryInput = searchInput;\n      }\n    });\n  });\n});","map":{"version":3,"sources":["/Users/hussainakram/Desktop/Projects/tasks-manager/app/javascript/packs/search_tasks.js"],"names":["$","document","on","each","_","element","searchByDropdown","find","statusDropdwon","searchInput","createdAtInput","searchSubmitBtn","errorBox","currentQueryInput","submitSearch","searchBy","val","query","ajax","url","type","dataType","data","search_by","error","text","resetInputFields","e","which","searchByValue","addClass","removeClass"],"mappings":"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","sourcesContent":["\n$(document).on(\"turbolinks:load\", () => {\n  $(\".js-search-tasks\").each((_, element) => {\n    const searchByDropdown = $(element).find('.js-search-by-dropdown');\n    const statusDropdwon = $(element).find('.js-status-dropdown');\n    const searchInput = $(element).find('.js-query-input');\n    const createdAtInput = $(element).find('.js-date-input');\n    const searchSubmitBtn = $(element).find('.js-search-btn');\n    const errorBox = $(element).find('.js-error-msg')\n    let currentQueryInput = searchInput;\n\n    const submitSearch = () => {\n      const searchBy = searchByDropdown.val();\n      const query = currentQueryInput.val();\n\n      $.ajax({\n        url: '/tasks',\n        type: 'get',\n        dataType: 'script',\n        data: {\n          search_by: searchBy,\n          query: query\n        },\n        error: (data) => {\n          errorBox.text('Something went wrong!');\n        }\n      });\n    }\n\n    const resetInputFields = () => {\n      searchInput.val('');\n      statusDropdwon.val('');\n      createdAtInput.val('');\n    }\n\n    searchSubmitBtn.on('click', submitSearch);\n    searchInput.on('keypress', (e) => {\n      if (e.which === 13) submitSearch();\n    });\n\n\n    searchByDropdown.on('change', () => {\n      resetInputFields();\n      const searchByValue = searchByDropdown.val();\n\n      if (searchByValue === 'status') {\n        searchInput.addClass('hidden');\n        createdAtInput.addClass('hidden');\n        statusDropdwon.removeClass('hidden');\n        currentQueryInput = statusDropdwon;\n\n      } else if (searchByValue === 'created_at') {\n        statusDropdwon.addClass('hidden');\n        searchInput.addClass('hidden');\n        createdAtInput.removeClass('hidden');\n        currentQueryInput = createdAtInput;\n\n      } else if (searchByValue === 'title') {\n        statusDropdwon.addClass('hidden');\n        createdAtInput.addClass('hidden');\n        searchInput.removeClass('hidden');\n        currentQueryInput = searchInput;\n      }\n    });\n  })\n});\n"]},"metadata":{},"sourceType":"module"}